{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/sylaw/defi_web3/frontend/app/api/relay/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { JsonRpcProvider, Wallet, parseEther } from 'ethers';\n\nexport async function POST(request) {\n    try {\n        const body = await request.json();\n        const { userAddress } = body;\n\n        if (!userAddress) {\n            return NextResponse.json({ error: 'User address required' }, { status: 400 });\n        }\n\n        console.log(`Relayer receiving request for: ${userAddress}`);\n\n        // 1. Connect to Hardhat Localhost\n        const provider = new JsonRpcProvider(\"http://127.0.0.1:8545\");\n\n        // 2. Load the \"Relayer\" Wallet (Account #0 from Hardhat)\n        // WARNING: NEVER use this key in production. This is Hardhat's default test key.\n        const PRIVATE_KEY = \"0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80\";\n        const wallet = new Wallet(PRIVATE_KEY, provider);\n\n        // 3. Send Transaction (1.0 ETH)\n        const tx = await wallet.sendTransaction({\n            to: userAddress,\n            value: parseEther(\"1.0\")\n        });\n\n        console.log(`Relayer sent 1.0 ETH to ${userAddress}. Hash: ${tx.hash}`);\n\n        return NextResponse.json({\n            success: true,\n            txHash: tx.hash,\n            message: \"Funds sent successfully\"\n        });\n\n    } catch (error) {\n        console.error(\"Relayer Error:\", error);\n        return NextResponse.json({ error: error.message }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;;;AAEO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,WAAW,EAAE,GAAG;QAExB,IAAI,CAAC,aAAa;YACd,OAAO,4JAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,QAAQ,GAAG,CAAC,CAAC,+BAA+B,EAAE,aAAa;QAE3D,kCAAkC;QAClC,MAAM,WAAW,IAAI,yMAAe,CAAC;QAErC,yDAAyD;QACzD,iFAAiF;QACjF,MAAM,cAAc;QACpB,MAAM,SAAS,IAAI,gLAAM,CAAC,aAAa;QAEvC,gCAAgC;QAChC,MAAM,KAAK,MAAM,OAAO,eAAe,CAAC;YACpC,IAAI;YACJ,OAAO,IAAA,kLAAU,EAAC;QACtB;QAEA,QAAQ,GAAG,CAAC,CAAC,wBAAwB,EAAE,YAAY,QAAQ,EAAE,GAAG,IAAI,EAAE;QAEtE,OAAO,4JAAY,CAAC,IAAI,CAAC;YACrB,SAAS;YACT,QAAQ,GAAG,IAAI;YACf,SAAS;QACb;IAEJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,kBAAkB;QAChC,OAAO,4JAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrE;AACJ"}}]
}